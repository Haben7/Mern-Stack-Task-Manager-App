{"ast":null,"code":"import React,{useState}from\"react\";import'./signUp.css';import{Link,useNavigate}from'react-router-dom';// Import Link from react-router-dom\nimport{useSelector,useDispatch}from'react-redux';// Import useDispatch from react-redux\nimport axios from\"axios\";import{authActions}from\"../store/authSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(){const[action,setAction]=useState(\"Login\");const[Data,setData]=useState({username:\"\",password:\"\"});const navigate=useNavigate();const dispatch=useDispatch();const isLoggedIn=useSelector(state=>state.auth.isLoggedIn);React.useEffect(()=>{if(isLoggedIn){navigate(\"/home\");}},[isLoggedIn,navigate]);const change=e=>{const{name,value}=e.target;setData({...Data,[name]:value});};const submit=async()=>{try{if(Data.username===\"\"||Data.password===\"\"){alert(\"All fields are required\");}else{const response=await axios.post(\"http://localhost:4000/api/v1/log-in\",Data,{headers:{'Content-Type':'application/json'},withCredentials:true// Include credentials if your backend needs it (cookies, etc.)\n});setData({username:\"\",password:\"\"});localStorage.setItem(\"id\",response.data.id);localStorage.setItem(\"token\",response.data.token);dispatch(authActions.login());navigate(\"/home\");}}catch(error){alert(\"An error occurred during login\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:action}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./img/icons8-person-24.png\",alt:\"person icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",required:true,value:Data.username,onChange:change})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"password\",src:\"./img/icons8-password-50.png\",alt:\"password icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",required:true,value:Data.password,onChange:change})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit\",onClick:submit,children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password\",children:[\"Lost Password? \",/*#__PURE__*/_jsx(\"span\",{children:\"Click here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password\",children:[\"Not having an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signUp\",className:\"signup-link\",children:\"Sign Up here\"})]})]});}export default SignIn;","map":{"version":3,"names":["React","useState","Link","useNavigate","useSelector","useDispatch","axios","authActions","jsx","_jsx","jsxs","_jsxs","SignIn","action","setAction","Data","setData","username","password","navigate","dispatch","isLoggedIn","state","auth","useEffect","change","e","name","value","target","submit","alert","response","post","headers","withCredentials","localStorage","setItem","data","id","token","login","error","className","children","src","alt","type","placeholder","required","onChange","onClick","to"],"sources":["/home/netsi/omishtu_joy/Day_4/taskify/frontend/src/components/signIn.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport './signUp.css';\nimport { Link, useNavigate } from 'react-router-dom'; // Import Link from react-router-dom\nimport { useSelector, useDispatch } from 'react-redux'; // Import useDispatch from react-redux\nimport axios from \"axios\";\nimport { authActions } from \"../store/authSlice\";\n\nfunction SignIn() {\n  const [action, setAction] = useState(\"Login\");\n  const [Data, setData] = useState({ username: \"\", password: \"\" });\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      navigate(\"/home\");\n    }\n  }, [isLoggedIn, navigate]); \n\n  const change = (e) => {\n    const { name, value } = e.target;\n    setData({ ...Data, [name]: value });\n  };\n\n  const submit = async () => {\n    try {\n      if (Data.username === \"\" || Data.password === \"\") {\n        alert(\"All fields are required\");\n      } else {\n        const response = await axios.post(\n          \"http://localhost:4000/api/v1/log-in\", \n          Data, \n          {\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            withCredentials: true, // Include credentials if your backend needs it (cookies, etc.)\n          }\n        );\n        setData({ username: \"\", password: \"\" });\n        localStorage.setItem(\"id\", response.data.id);\n        localStorage.setItem(\"token\", response.data.token);\n        dispatch(authActions.login());\n        navigate(\"/home\");\n      }\n    } catch (error) {\n      alert(\"An error occurred during login\");\n    }\n  };\n  \n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <div className=\"text\">{action}</div>\n        <div className=\"underline\"></div>\n      </div>\n      <div className=\"inputs\">\n        <div className=\"input\">\n          <img src=\"./img/icons8-person-24.png\" alt=\"person icon\" />\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            required\n            value={Data.username}\n            onChange={change}\n          />\n        </div>\n\n        <div className=\"input\">\n          <img id=\"password\" src=\"./img/icons8-password-50.png\" alt=\"password icon\" />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            required\n            value={Data.password}\n            onChange={change}\n          />\n        </div>\n      </div>\n\n      <div className=\"submit-container\">\n        <button className=\"submit\" onClick={submit}>Login</button>\n      </div>\n      <div className=\"forgot-password\">\n        Lost Password? <span>Click here</span>\n      </div>\n\n      <div className=\"forgot-password\">\n        Not having an account? <Link to=\"/signUp\" className=\"signup-link\">Sign Up here</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default SignIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}